<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Monte-Carlo Simulation of a Single-Channel</title>
  </head>
  <body>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="index.js"></script>

    <div class="slidecontainer">
      <p>n</p>
      <input type="range" min="1" max="300" value="200" class="slider" id="n">
      <p>ensemble size</p>
      <input type="range" min="1" max="200" value="100" class="slider" id="ensembleSize">
      <p>duration</p>
      <input type="range" min="1" max="10" value="1" class="slider" id="duration">
      <p>max time</p>
      <input type="range" min="1" max="30" value="10" class="slider" id="maxTime">
    </div>

    <div style="width: 90vw;" id="graphs">
      <canvas id="histogram"></canvas>
      <canvas id="meancurrent"></canvas>
      <canvas id="singletrace"></canvas>
      <canvas id="unfiltered"></canvas>
      <canvas id="filtered"></canvas>
    </div>
    <script>
      const { createApp } = Vue
      createApp({
        data() {
          return defaultMetadata()
        },
        watch: defaultWatch(),
        methods: defaultMethods(),
        mounted() {
          this.drawGraphs()
          setSliderCallbacks(this)
        },
        computed: {
          qflatpulse() {
            return qMatrix(this.height)
          },
          qPause() {
            return qMatrix(0)
          }
        }
      }).mount('#graphs')
    </script>
  </body>
</html>